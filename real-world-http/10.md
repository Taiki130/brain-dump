# クライアント視点で見るRESTful API
## RESTful API
- マッシュアップ
  - Webサービス同士を組み合わせて新しい付加価値を生み出す手法
- REST
  - 通信のセマンティクスもHTTPに習うようにしましょうという考え

## REST APIとRPCの違い
- RPC
  - URLは１つ
  - リクエスト時にサービス名とメソッド名を渡すことで「何をするか」を指定
  - HTTPのメソッドはすべてPOST
  - サーバーへのリクエストはすべてボディに入れて送信
  - データであってもメタデータ出会っても扱いに違いはない
- REST
  - 情報を更新するときは変更済みのリソースを添付して「これに上書きして」と送信
  - GETで取得されるような実際のリソース以外は、すべてメタデータ

## Web APIとトランザクション
- トランザクション 
- ユースケースごとに1つのAPI呼び出しで済まなくなった場合、またLSUDs型の汎用なAPIサーバ0の場合にはいくつかの方法がある
### 連続して呼び出す
- RPC
  - ソースコードジェネレータでは複数リクエストの同時発行ができない
  - HTTPも同じ
- RESTful API
  - バッチ処理
    - mutipart/mixed
### ソフトウェアでトランザクションを自作する
- サーガ
  - マイクロサービスの設計パターン
  - 実現したい機能を小さなトランザクションを持つ機能ごとに分割
  - APIでなにかアクションを行う場合に、保留という状態を持たせてデータを加工
  - 他の機能を呼び出し、必要な条件が揃ったら、最後に自分の状態を承認済みにする
### 後からチェックプログラムをバッチでは知らせる
- 日本でこれが絶対に必要になる会社があるかどうかわからない
  - Google
    - データの完全性の確保のために大規模なバッチ処理
    - ペタバイトやエクサバイト、通常のリレーショナルデータベースでは間に合わない
      - NoSQLを利用
    - 単独ではトランザクションのようなものを発行しようがない地球規模のプログラムで力を発揮する
  - 小さなシステムでも、ちょっとした異常系の確認のバッチ処理
  
